{"type":"operationStart","subtype":"profile","data":{"_id":"jYyBQph8K2mouw8g","timestamp":"2023-01-31T00:07:46.773Z","state":"queued","mode":"standard","creationDate":"2023-01-31T00:07:46.783Z","modificationDate":"2023-01-31T00:07:46.783Z","shortid":"Vui-5PM","$entitySet":"profiles"},"doDiffs":false,"timestamp":1675123666782,"id":"mjwpgm33ux73dn1","previousOperationId":null,"operationId":"hnoxlbtm9pmfnd1"}
{"type":"log","level":"info","message":"Render request 3 queued for execution and waiting for available worker","previousOperationId":"hnoxlbtm9pmfnd1","timestamp":1675123666782,"id":"u7nbxhesa3r049v"}
{"type":"operationStart","subtype":"render","name":"invoice-main","previousOperationId":"hnoxlbtm9pmfnd1","timestamp":1675123666795,"id":"r4lmc9dncyix637","previousEventId":"mjwpgm33ux73dn1","operationId":"3figocehas3l9ij"}
{"type":"log","timestamp":1675123666796,"level":"info","message":"Starting rendering request 3","meta":{"rootId":"hjzajbpdlsk9i9u","id":"hjzajbpdlsk9i9u"},"id":"ghbe3h5n0goz9w9","previousOperationId":"3figocehas3l9ij"}
{"type":"log","timestamp":1675123666796,"level":"info","message":"Rendering template { name: invoice-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"hjzajbpdlsk9i9u","id":"hjzajbpdlsk9i9u"},"id":"h8yhawykzef2p13","previousOperationId":"3figocehas3l9ij"}
{"type":"log","timestamp":1675123666801,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"hjzajbpdlsk9i9u","id":"hjzajbpdlsk9i9u"},"id":"rpfky7ljlzwlh7u","previousOperationId":"3figocehas3l9ij"}
{"type":"log","timestamp":1675123666809,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"hjzajbpdlsk9i9u","id":"hjzajbpdlsk9i9u"},"id":"4v8ij19xeiw2aox","previousOperationId":"3figocehas3l9ij"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1675123666810,"id":"e4sskty3jl9a2n9","previousEventId":"r4lmc9dncyix637","operationId":"mwelnl5a3r2jaet","previousOperationId":"3figocehas3l9ij"}
{"type":"log","timestamp":1675123666810,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"hjzajbpdlsk9i9u","id":"hjzajbpdlsk9i9u"},"id":"4x38tv5ggjxrq81","previousOperationId":"mwelnl5a3r2jaet"}
{"type":"log","timestamp":1675123666858,"level":"warn","message":"Error when processing render request 3\n(because) error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) \"asset\" helper call failed\n(because) unknown encoding: dataURI \n\n(system-helpers.js line 290:20)\n\n  288 |\n  289 |   const jsreport = require('jsreport-proxy')\n> 290 |   const assetVal = await jsreport.assets.read(path, encoding)\n      |                    ^\n  291 |   return assetVal\n  292 | }\n  293 |\n\n\nTypeError [ERR_UNKNOWN_ENCODING]: Unknown encoding: dataURI \n    at new NodeError (node:internal/errors:387:5)\n    at Buffer.toString (node:buffer:817:11)\n    at readAsset (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-assets\\lib\\assetsShared.js:186:25)\n    at async Object.read (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-assets\\lib\\worker.js:120:19)\n    at async Object.asset (system-helpers.js:290:20)\n    at async C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40\n    at async Promise.all (index 1)\n    at async executionFn (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:221:9)\n    at async run (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\nwrapped by:\nError: \"asset\" helper call failed\n(because) unknown encoding: dataURI \n    at module.exports (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:340:54)\n    at C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:15\n    at async C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40\n    at async Promise.all (index 1)\n    at async executionFn (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:221:9)\n    at async run (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\n    at async executeEngine (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:263:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) \"asset\" helper call failed\n(because) unknown encoding: dataURI \n    at module.exports (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:286:33)\n    at async engine.engine (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:179:19\n    at async Domain.<anonymous> (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:141:19)","meta":{"rootId":"hjzajbpdlsk9i9u","id":"hjzajbpdlsk9i9u"},"id":"36ffj99xu5v2dmo","previousOperationId":"mwelnl5a3r2jaet"}
{"type":"log","timestamp":1675123666858,"level":"warn","message":"Rendering request 3 finished with error in 85 ms","meta":{"rootId":"hjzajbpdlsk9i9u","id":"hjzajbpdlsk9i9u"},"id":"sdc5phtcnz29oaa","previousOperationId":"mwelnl5a3r2jaet"}
{"type":"error","timestamp":1675123666874,"entity":{"shortid":"rkJTnK2ce","name":"invoice-main","content":"<!--\nInvoice dynamically rendered into html using handlebars and converted into pdf\nusing chrome-pdf recipe. The styles are extracted into separate asset for\nbetter readability and later reuse.\n\nData to this sample are mocked at the design time and should be filled on the\nincoming API request.\n!-->\n\n<html>\n\n<head>\n    <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n    <style>\n        {{asset \"invoice-styles.css\" \"utf8\"}}\n    </style>\n</head>\n\n<body>\n    <div class=\"invoice-box\">\n        <table cellpadding=\"0\" cellspacing=\"0\">\n            <tr class=\"top\">\n                <td colspan=\"2\">\n                    <table>\n                        <tr>\n                            <td class=\"title\">\n                                <img src=\"{{asset \"logo.png\" \"dataURI \"}}\" style=\"width:100%; max-width:300px;\" />\n                            </td>\n                        </tr>\n                    </table>\n                </td>\n            </tr>\n            <tr class=\"heading\">\n                <td>\n                    Trabajo\n                </td>\n                <td>\n                    Empleado\n                </td>\n                <td>\n                    Artículo\n                </td>\n                <td>\n                    Unidades\n                </td>\n                <td>\n                    Descripción\n                </td>\n            </tr>\n            {{#each tareas}}\n            <tr class=\"item\">\n                <td>\n                    {{trabajo.nombre}}\n                </td>\n                <td>\n                    {{empleado.name}}\n                </td>\n                <td>\n                    {{articulo.nombre}}\n                </td>\n                <td>\n                    {{unidades}}\n                </td>\n                <td>\n                    {{descripcion}}\n                </td>\n            </tr>\n            {{/each}}\n            <tr class=\"total\">\n                <td></td>\n                <td>\n                    {{!-- Total: ${{total unidades}} --}}\n                </td>\n            </tr>\n        </table>\n    </div>\n</body>\n\n</html>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"mwelnl5a3r2jaet","id":"0qpm5cvgbmvzckm","stack":"TypeError [ERR_UNKNOWN_ENCODING]: Unknown encoding: dataURI \n    at new NodeError (node:internal/errors:387:5)\n    at Buffer.toString (node:buffer:817:11)\n    at readAsset (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-assets\\lib\\assetsShared.js:186:25)\n    at async Object.read (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-assets\\lib\\worker.js:120:19)\n    at async Object.asset (system-helpers.js:290:20)\n    at async C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40\n    at async Promise.all (index 1)\n    at async executionFn (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:221:9)\n    at async run (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\nwrapped by:\nError: \"asset\" helper call failed\n(because) unknown encoding: dataURI \n    at module.exports (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:340:54)\n    at C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:15\n    at async C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40\n    at async Promise.all (index 1)\n    at async executionFn (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:221:9)\n    at async run (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\n    at async executeEngine (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:263:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) \"asset\" helper call failed\n(because) unknown encoding: dataURI \n    at module.exports (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:286:33)\n    at async engine.engine (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:62:23)\n    at async WorkerReporter._render (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:147:7)\n    at async C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:179:19\n    at async Domain.<anonymous> (C:\\Users\\casim\\Desktop\\Laravel-React\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:141:19)","message":"Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) \"asset\" helper call failed\n(because) unknown encoding: dataURI \n\n(system-helpers.js line 290:20)\n\n  288 |\n  289 |   const jsreport = require('jsreport-proxy')\n> 290 |   const assetVal = await jsreport.assets.read(path, encoding)\n      |                    ^\n  291 |   return assetVal\n  292 | }\n  293 |\n\n"}
